{"ast":null,"code":"import _classCallCheck from \"@babel/runtime/helpers/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/createClass\";\nimport _get from \"@babel/runtime/helpers/get\";\nimport _inherits from \"@babel/runtime/helpers/inherits\";\nimport _possibleConstructorReturn from \"@babel/runtime/helpers/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime/helpers/getPrototypeOf\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nimport Animated from \"react-native-web/dist/exports/Animated\";\nvar AnimatedWithChildren = Object.getPrototypeOf(Animated.ValueXY);\n\nif (__DEV__) {\n  if (AnimatedWithChildren.name !== 'AnimatedWithChildren') {\n    console.error('AnimatedShape could not obtain AnimatedWithChildren base class');\n  }\n}\n\nvar AnimatedShape = function (_AnimatedWithChildren) {\n  _inherits(AnimatedShape, _AnimatedWithChildren);\n\n  var _super = _createSuper(AnimatedShape);\n\n  function AnimatedShape(shape) {\n    var _this;\n\n    _classCallCheck(this, AnimatedShape);\n\n    _this = _super.call(this);\n    _this.shape = shape;\n    return _this;\n  }\n\n  _createClass(AnimatedShape, [{\n    key: \"_walkShapeAndGetValues\",\n    value: function _walkShapeAndGetValues(value) {\n      var _this2 = this;\n\n      if (Array.isArray(value)) {\n        return value.map(function (i) {\n          return _this2._walkShapeAndGetValues(i);\n        });\n      }\n\n      if (value instanceof Animated.Node) {\n        return value.__getValue();\n      }\n\n      if (typeof value === 'object') {\n        var result = {};\n\n        for (var key in value) {\n          result[key] = this._walkShapeAndGetValues(value[key]);\n        }\n\n        return result;\n      }\n\n      return value;\n    }\n  }, {\n    key: \"__getValue\",\n    value: function __getValue() {\n      var result = this._walkShapeAndGetValues(this.shape);\n\n      return result;\n    }\n  }, {\n    key: \"_walkAndProcess\",\n    value: function _walkAndProcess(value, cb) {\n      var _this3 = this;\n\n      if (Array.isArray(value)) {\n        value.forEach(function (i) {\n          return _this3._walkAndProcess(i, cb);\n        });\n      } else if (value instanceof Animated.Node) {\n        cb(value);\n      } else if (typeof value === 'object') {\n        for (var key in value) {\n          this._walkAndProcess(value[key], cb);\n        }\n      }\n    }\n  }, {\n    key: \"__attach\",\n    value: function __attach() {\n      var _this4 = this;\n\n      this._walkAndProcess(this.shape, function (v) {\n        return v.__addChild(_this4);\n      });\n    }\n  }, {\n    key: \"__detach\",\n    value: function __detach() {\n      var _this5 = this;\n\n      this._walkAndProcess(this.shape, function (v) {\n        return v.__removeChild(_this5);\n      });\n\n      _get(_getPrototypeOf(AnimatedShape.prototype), \"__detach\", this).call(this);\n    }\n  }]);\n\n  return AnimatedShape;\n}(AnimatedWithChildren);\n\nexport default AnimatedShape;","map":{"version":3,"sources":["/Users/asha/Documents/miniboss/node_modules/@react-native-mapbox-gl/maps/javascript/utils/animated/AnimatedShape.js"],"names":["AnimatedWithChildren","Object","getPrototypeOf","Animated","ValueXY","__DEV__","name","console","error","AnimatedShape","shape","value","Array","isArray","map","i","_walkShapeAndGetValues","Node","__getValue","result","key","cb","forEach","_walkAndProcess","v","__addChild","__removeChild"],"mappings":";;;;;;;;;;;;AAMA,IAAMA,oBAAoB,GAAGC,MAAM,CAACC,cAAP,CAAsBC,QAAQ,CAACC,OAA/B,CAA7B;;AACA,IAAIC,OAAJ,EAAa;AACX,MAAIL,oBAAoB,CAACM,IAArB,KAA8B,sBAAlC,EAA0D;AACxDC,IAAAA,OAAO,CAACC,KAAR,CACE,gEADF;AAGD;AACF;;IAOKC,a;;;;;AAIJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB;AACA,UAAKA,KAAL,GAAaA,KAAb;AAFiB;AAGlB;;;;WAED,gCAAuBC,KAAvB,EAA8B;AAAA;;AAC5B,UAAIC,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACxB,eAAOA,KAAK,CAACG,GAAN,CAAU,UAACC,CAAD;AAAA,iBAAO,MAAI,CAACC,sBAAL,CAA4BD,CAA5B,CAAP;AAAA,SAAV,CAAP;AACD;;AACD,UAAIJ,KAAK,YAAYR,QAAQ,CAACc,IAA9B,EAAoC;AAClC,eAAON,KAAK,CAACO,UAAN,EAAP;AACD;;AACD,UAAI,OAAOP,KAAP,KAAiB,QAArB,EAA+B;AAC7B,YAAMQ,MAAM,GAAG,EAAf;;AACA,aAAK,IAAMC,GAAX,IAAkBT,KAAlB,EAAyB;AACvBQ,UAAAA,MAAM,CAACC,GAAD,CAAN,GAAc,KAAKJ,sBAAL,CAA4BL,KAAK,CAACS,GAAD,CAAjC,CAAd;AACD;;AACD,eAAOD,MAAP;AACD;;AACD,aAAOR,KAAP;AACD;;;WAED,sBAAa;AACX,UAAMQ,MAAM,GAAG,KAAKH,sBAAL,CAA4B,KAAKN,KAAjC,CAAf;;AACA,aAAOS,MAAP;AACD;;;WAED,yBAAgBR,KAAhB,EAAuBU,EAAvB,EAA2B;AAAA;;AACzB,UAAIT,KAAK,CAACC,OAAN,CAAcF,KAAd,CAAJ,EAA0B;AACxBA,QAAAA,KAAK,CAACW,OAAN,CAAc,UAACP,CAAD;AAAA,iBAAO,MAAI,CAACQ,eAAL,CAAqBR,CAArB,EAAwBM,EAAxB,CAAP;AAAA,SAAd;AACD,OAFD,MAEO,IAAIV,KAAK,YAAYR,QAAQ,CAACc,IAA9B,EAAoC;AACzCI,QAAAA,EAAE,CAACV,KAAD,CAAF;AACD,OAFM,MAEA,IAAI,OAAOA,KAAP,KAAiB,QAArB,EAA+B;AACpC,aAAK,IAAMS,GAAX,IAAkBT,KAAlB,EAAyB;AACvB,eAAKY,eAAL,CAAqBZ,KAAK,CAACS,GAAD,CAA1B,EAAiCC,EAAjC;AACD;AACF;AACF;;;WAED,oBAAW;AAAA;;AACT,WAAKE,eAAL,CAAqB,KAAKb,KAA1B,EAAiC,UAACc,CAAD;AAAA,eAAOA,CAAC,CAACC,UAAF,CAAa,MAAb,CAAP;AAAA,OAAjC;AACD;;;WAED,oBAAW;AAAA;;AACT,WAAKF,eAAL,CAAqB,KAAKb,KAA1B,EAAiC,UAACc,CAAD;AAAA,eAAOA,CAAC,CAACE,aAAF,CAAgB,MAAhB,CAAP;AAAA,OAAjC;;AACA;AACD;;;;EAlDyB1B,oB;;AAqD5B,eAAeS,aAAf","sourcesContent":["import {Animated} from 'react-native';\n\n/* eslint-disable guard-for-in */\n\n// see\n// https://github.com/facebook/react-native/blob/master/Libraries/Animated/src/nodes/AnimatedWithChildren.js\nconst AnimatedWithChildren = Object.getPrototypeOf(Animated.ValueXY);\nif (__DEV__) {\n  if (AnimatedWithChildren.name !== 'AnimatedWithChildren') {\n    console.error(\n      'AnimatedShape could not obtain AnimatedWithChildren base class',\n    );\n  }\n}\n\n/**\n * AnimatedShape can be used to have animated properties inside the shape property\n * @example\n * <AnimatedShapeSource ... shape={new AnimatedShape({type:'LineString', coordinates: animatedCoords})} />\n */\nclass AnimatedShape extends AnimatedWithChildren {\n  // equivalent of AnimatedStyle for shapes\n  // https://github.com/facebook/react-native/blob/master/Libraries/Animated/src/nodes/AnimatedStyle.js\n\n  constructor(shape) {\n    super();\n    this.shape = shape;\n  }\n\n  _walkShapeAndGetValues(value) {\n    if (Array.isArray(value)) {\n      return value.map((i) => this._walkShapeAndGetValues(i));\n    }\n    if (value instanceof Animated.Node) {\n      return value.__getValue();\n    }\n    if (typeof value === 'object') {\n      const result = {};\n      for (const key in value) {\n        result[key] = this._walkShapeAndGetValues(value[key]);\n      }\n      return result;\n    }\n    return value;\n  }\n\n  __getValue() {\n    const result = this._walkShapeAndGetValues(this.shape);\n    return result;\n  }\n\n  _walkAndProcess(value, cb) {\n    if (Array.isArray(value)) {\n      value.forEach((i) => this._walkAndProcess(i, cb));\n    } else if (value instanceof Animated.Node) {\n      cb(value);\n    } else if (typeof value === 'object') {\n      for (const key in value) {\n        this._walkAndProcess(value[key], cb);\n      }\n    }\n  }\n\n  __attach() {\n    this._walkAndProcess(this.shape, (v) => v.__addChild(this));\n  }\n\n  __detach() {\n    this._walkAndProcess(this.shape, (v) => v.__removeChild(this));\n    super.__detach();\n  }\n}\n\nexport default AnimatedShape;\n"]},"metadata":{},"sourceType":"module"}